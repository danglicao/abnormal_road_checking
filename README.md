# 不可通行区域简易识别

### 项目简述：通过面积划分将每个路口分割为多个面积为1*1（目前状况下效果最理想的面积大小）的方格，计算每个小方格内的均一化点密度。通过与标准进行比较找出密度大幅下降的区域，从而识别到不可通行区域

## 需求库：
### python3.9， 其余均已写入requirements.yml

# 主要部分：
## 本模块主要为2个主要程序， test_combine.py 和get_position_array_dict.py。 

## test_combine.py注意事项
### 1.本服务依赖于192.168.9.4上的实时数据，请确保部署之前能与192.168.9.4进行正常连接
### 2. on_message 函数中， 因为mqtt服务的特性，目前没找到办法把里面用于筛选信息的变量参数化的方法，所以目前需要进入到函数中修改target_region_no确保它接受某个特定路口的数据避免爆内存
### 3. 数据会被分为两部分进行处理，因为白天和凌晨数据差异较大，误报率过高
### 4. 同理，为了进行定时操作，output_task和write_down_base两个函数里面的target_region_no等变量也无法进行参数化，需要进入函数修改以适配路口


## get_position_array_dict.py注意事项
# 目前1.4误报率较低且适应度较好，但只对04路口进行了测试，后期可能需要测试其他路口的效果

## 可使用edge_detect.py提取数个落盘后的密度文件直接生成图片进行效果测试， 所生成的图片为黑底白点，所有被标记区域均为255，其余地区为0



